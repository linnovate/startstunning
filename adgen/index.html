<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wix Ad Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css">
    <script type="text/javascript" src="//static.parastorage.com/services/js-sdk/1.61.0/js/wix.min.js"></script>
    <script src="/adgen/js/underscore-min.js"></script>
    <script src="/adgen/js/jquery.js"></script>
    <script src="/adgen/js/kinetic.min.js"></script>
    <script src="/adgen/js/meme-ad.js"></script>
</head>
<body>

<style>
    body {
        background-color: transparent;
    }

    canvas:hover {
        cursor: pointer;
    }

    html, body {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
    }

    .col {
        float: left;
        margin-right: 14px;
    }

    .last {
        margin-right: 0;
    }

    .col-center {
        width: 726px;
        height: 100%;
        background-color: #f6f6f6;
        border: 1px solid #c0c0c0;
    }

    .col-right {
        width: 1640px;
        margin-top: -5px;
    }

    .col-left {
        width: 1090px;
        margin-top: -5px;
    }

    .flex {
        display: flex;
        overflow: hidden;
        flex-flow: row wrap;
        justify-content: space-between;
        align-content: flex-start;
    }

    .square {
        width: 265px;
        height: 265px;
        background: blue;
        margin: 5px 0;
        opacity: 0.4;
        transition: opacity .5s ease-out;
        background-position: 50% 50%;
        background-repeat: no-repeat;
        background-size: cover;
        border: 1px solid #c0c0c0;
        border-radius: 4px;
    }

    .square:hover {
        opacity: 1;
    }

    .overflow {
        overflow: hidden;
        height: 100%;
        width: 100%;
        position: relative;
        margin: 0 auto;
    }

    .wrap {
        width: 3484px;
        height: 1090px;
        position: absolute;
        left: 50%;
        margin-left: -1587px;
    }
    
    .header h1 {
        color: #fff;
        margin-top: -6px;
    }

    .header {
        height: 195px;
        background-color: #4b67a0;
        padding: 77px 70px 0 232px;
        position: relative;
    }
    .head-frame {
        height: 139px;
        width: 137px;
        border: 1px solid #c0c0c0;
        background-color: #fff;
        padding: 6px;
        position: absolute;
        top: 77px;
        left: 70px;
    }
    .content {
        padding: 55px 70px 0 70px;
    }
    .content p {
        font-size: 20px;
        margin-bottom: 25px;
    }
    .row {
        margin-bottom: 10px;
    }
    .image-frame img {
        border-radius: 5px;
        max-width: 100%;
        text-align: center;
    }
    .form {
        margin-bottom: 35px;
    }

    input[type="text"], select {
        border: 1px solid #c0c0c0;
        width: 100%;
        padding: 13px 10px;
    }

    #btn-goto-ads {
        padding: 12px 25px;
        background-color: #ed9845;
        color: #fff;
        margin-left: -20px;
    }


</style>


<div class="overflow">
    <div class="wrap">
        <div class="col-left flex col">
        </div>

        <div class="col-center col">
            <div class="header">
                <div class="head-frame">
                    <img src="/adgen/i/panda.png" alt="">
                </div>
                <h1>Get Your Own Star & Promote Your Business!</h1>
            </div>
            <div class="content">
                <p>
                    Just in time for the Big Game! Create your own ad using cute puppies and kittens, majestic horses, cheeky lizards & more.
                    When they're the star, the world pays attention.
                </p>

                <div class="form"></div>
                <div class="image-frame">
                    <img src="/adgen/img/10.jpg" alt=""/>
                </div>
            </div>
        </div>

        <div class="col-right flex col last">
        </div>
    </div>

</div>
<div id="heightStage" style="display: none;"></div>

<script>
    var wixSelTypes = [],
            wixSelBusinessName = '',
            wixSelCategory = '',
            adData = new $.wixAdData();

    $(document).ready(function () {
        adData.init(function () {
            $('.col-left').wixFillPictures({
                count: 16
            }, this);

            $('.col-right').wixFillPictures({
                count: 24
            }, this);

            $('.form').wixAdForm({
            }, this);
        });

    });


    function wixAdShowForm() {
        var selectedItems = $('.entity-type-item.selected');

        selectedItems.each(function () {
            wixSelTypes.push($(this).data('wix-ad-pick'));
        });

        $('.form-container').wixAdForm({types: wixSelTypes}, adData);

        $('.entity-pick-container').hide();
        $('#business-name').focus();
    }

    function wixAdShowAds() {
        wixSelBusinessName = $('#business-name').val();
        wixSelCategory = $('#ad-category').val();

        $('.form-container').hide();

        var sets = [];
        _.each(wixSelTypes, function (enType) {
            sets.push({
                type: enType,
                category: wixSelCategory
            })
        });

        $('.meme-container').wixAdLayout({
            layout: 'col2',
            caption: wixSelBusinessName,
            subSetsIfOneSet: 2,
            sets: sets
        }, adData);

        $('.meme-ad').wixAdMeme();
    }

    function showImage(src) {
        window.open(src, '_blank', 'toolbar=0,location=0,menubar=0');
    }
</script>

<!--templates-->
<script type="text/template" class="tpl-picture-grid">
    <% _.each(data, function(item) { %>
    <div class="square" style="background-image: url(<%- item.url %>);"
            data-wix-gif="<%- item.gif %>" data-wix-url="<%- item.url %>">
    </div>
    <% }); %>
</script>


<script type="text/template" class="tpl-form">
    <div class="row">
        <div class="col-md-6"><input type="text" id="business-name" placeholder="Your Business Name"></div>
        <div class="col-md-6"></div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <select id="ad-category">
                <% _.each(data, function(catName) { %>
                <option value="<%- catName %>"><%- catName.capitalize() %></option>
                <% }); %>
            </select>
        </div>
        <div class="col-md-6"><button class="btn btn-flat-orange" id="btn-goto-ads" onclick="wixAdShowAds()" disabled>GO</button></div>
    </div>
</script>


<script type="text/template" class="tpl-col2">
    <% _.each(groupItems, function(groupItem, groupKey) { %>
    <div class="row meme-group meme-group-<%- groupKey %>">
        <% _.each(groupItem, function(colItems, colIndex) { %>

        <% if (colIndex == 1) { %>
        <div class="col-<%- colIndex %> col-md-4">
            <% _.each(colItems, function(item) { %>
            <div class="meme-ad" data-wix-ad-src="<%- item.url %>" data-wix-ad-text="<%- caption %>"></div>
            <% }); %>
        </div>
        <% } %>

        <% if (colIndex == 2) { %>
        <div class="col-<%- colIndex %> col-md-8">
            <% _.each(colItems, function(item) { %>
            <div class="pull-left meme-ad" data-wix-ad-src="<%- item.url %>" data-wix-ad-text="<%- caption %>"></div>
            <% }); %>
        </div>
        <% } %>

        <% }); %>
    </div>
    <% }); %>
</script>

</body>
</html>